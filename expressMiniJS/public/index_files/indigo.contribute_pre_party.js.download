function LiteDeferred(){this._done=[]}LiteDeferred.prototype={execute:function(t){for(var e=t.length;e--;)t[e].call(null,this._data)},resolve:function(t){this._data||(this._data=t||!0,this.execute(this._done))},done:function(t){this._data?t.call(null,this._data):this._done.push(t)}};var ContributePreParty=window.ContributePreParty||{dataLoaded:new LiteDeferred,init:function(){this.loadContributionData()},loadContributionData:function(){Prefiller.bareFetch(this.setContributionData),this.loadTimeout=setTimeout(Mend["catch"],5e3)},setContributionData:function(){if(4==this.readyState&&200==this.status){clearTimeout(ContributePreParty.loadTimeout);var t;try{t=JSON.parse(this.responseText)}catch(e){t={},Bugsnag.notify("Prefill parse error","Message: "+e.message+". Response: "+this.responseText)}ContributePreParty.dataLoaded.resolve(t),window.Indigo&&Indigo.User&&Indigo.User.showRestrictedContent&&Indigo.User.showRestrictedContent()}}},Prefiller={defaultUrl:"/contribute/prefill",url:function(){var t=window.Indigo&&Indigo.prefillUrl||this.defaultUrl;return t+"?caller="+encodeURIComponent(location.href)+"&t="+(new Date).getTime()},bareFetch:function(t){var e=new XMLHttpRequest;e.onreadystatechange=t,e.open("GET",this.url(),!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","*/*;q=0.5, application/json, text/javascript"),e.send()},fetch:function(){return callback=function(t){$.extend(ContributionForm,t),$.extend(ContributionForm.controlData,window.ICFAttributes)},this._fetchPromise||(this._fetchPromise=$.get(this.url()).done(callback)),this._fetchPromise}};
//# sourceMappingURL=../maps/js/indigo.contribute_pre_party.js.map
